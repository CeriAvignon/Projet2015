<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Jan 04 19:51:42 CET 2016 -->
<title>ServerCommunication</title>
<meta name="date" content="2016-01-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ServerCommunication";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerCommunication.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../fr/univavignon/courbes/network/ClientCommunication.html" title="interface in fr.univavignon.courbes.network"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/univavignon/courbes/network/ServerCommunication.html" target="_top">Frames</a></li>
<li><a href="ServerCommunication.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.univavignon.courbes.network</div>
<h2 title="Interface ServerCommunication" class="title">Interface ServerCommunication</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">ServerCommunication</span></pre>
<div class="block">Ensemble de méthodes permettant à l'Interface Utilisateur côté serveur
 de communiquer avec l'Interface Utilisateur côté client, via le Moteur
 Réseau.
 <br/>
 Chaque binôme de la composante Moteur Réseau doit définir une classe
 implémentant cette interface, qui sera instanciée par l'Interface Utilisateur.
 <br/>
 La communication réseau doit être non-bloquante pour l'Interface Utilisateur.
 Cela signifie que le Moteur Réseau doit mettre en place un système de buffering.
 Autrement dit, quand il reçoit des données provenant des clients, il les garde
 en mémoire jusqu'à ce que l'Interface Utilisateur le sollicite via l'une des
 méthodes de type <code>retrieveXxxxx</code> pour obtenir cette information.
 Inversement, quand l'Interface Utilisateur invoque une méthode de type <code>sendXxxxx</code>,
 l'expédition vers les clients doit se faire dans un thread dédié, afin de ne
 pas bloquer l'exécution du jeu.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#closeServer()">closeServer</a></strong>()</code>
<div class="block">Permet de stopper le serveur et ainsi déconnecter tous les clients.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#getIp()">getIp</a></strong>()</code>
<div class="block">Renvoie l'adresse IP de ce serveur, que les clients doivent
 utiliser pour se connecter à lui.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#getPort()">getPort</a></strong>()</code>
<div class="block">Renvoie le port utilisé par le serveur pour accepter les connexions
 de la part des clients.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#launchServer()">launchServer</a></strong>()</code>
<div class="block">Permet de créer un serveur pour que les clients puissent s'y connecter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Integer,<a href="../../../../fr/univavignon/courbes/common/Direction.html" title="enum in fr.univavignon.courbes.common">Direction</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#retrieveCommands()">retrieveCommands</a></strong>()</code>
<div class="block">Permet au serveur de recevoir les commandes envoyés par les clients.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../fr/univavignon/courbes/common/Profile.html" title="class in fr.univavignon.courbes.common">Profile</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#retrieveProfiles()">retrieveProfiles</a></strong>()</code>
<div class="block">Récupère les profils envoyés par les clients, représentant des joueurs qui désirent
 participer à la partie en cours de configuration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#retrieveText()">retrieveText</a></strong>()</code>
<div class="block">Permet au serveur de recevoir des messages textuels provenant de ses clients.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#sendBoard(fr.univavignon.courbes.common.Board)">sendBoard</a></strong>(<a href="../../../../fr/univavignon/courbes/common/Board.html" title="class in fr.univavignon.courbes.common">Board</a>&nbsp;board)</code>
<div class="block">Permet au serveur d'envoyer des informations sur l'évolution de 
 la manche en cours, à tous les clients connectés au serveur.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#sendPointThreshold(int)">sendPointThreshold</a></strong>(int&nbsp;pointThreshold)</code>
<div class="block">Envoie la limite de points à atteindre pour gagner la partie,
 à tous les clients connectés à ce serveur.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#sendProfiles(java.util.List)">sendProfiles</a></strong>(java.util.List&lt;<a href="../../../../fr/univavignon/courbes/common/Profile.html" title="class in fr.univavignon.courbes.common">Profile</a>&gt;&nbsp;profiles)</code>
<div class="block">Envoie la liste des profils des joueurs de la manche à tous les 
 clients connectés à ce serveur.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#sendText(java.lang.String)">sendText</a></strong>(java.lang.String&nbsp;message)</code>
<div class="block">Permet au serveur d'envoyer un message textuel à tous les clients qui lui sont
 connectés.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#setPort(int)">setPort</a></strong>(int&nbsp;port)</code>
<div class="block">Modifie le port utilisé par le serveur pour accepter les connexions
 de la part des clients.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getIp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIp</h4>
<pre>java.lang.String&nbsp;getIp()</pre>
<div class="block">Renvoie l'adresse IP de ce serveur, que les clients doivent
 utiliser pour se connecter à lui. Cette valeur n'est pas 
 modifiable, elle dépend directement du système.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Une chaîne de caractères qui correspond à l'adresse IP du serveur.</dd></dl>
</li>
</ul>
<a name="getPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>int&nbsp;getPort()</pre>
<div class="block">Renvoie le port utilisé par le serveur pour accepter les connexions
 de la part des clients. (à préciser <i>avant</i> de se connecter, 
 bien sûr).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Un entier qui correspond au port du serveur.</dd></dl>
</li>
</ul>
<a name="setPort(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPort</h4>
<pre>void&nbsp;setPort(int&nbsp;port)</pre>
<div class="block">Modifie le port utilisé par le serveur pour accepter les connexions
 de la part des clients. Cette valeur est à modifier avant d'utiliser 
 <a href="../../../../fr/univavignon/courbes/network/ServerCommunication.html#launchServer()"><code>launchServer()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>port</code> - Le nouveau port du serveur.</dd></dl>
</li>
</ul>
<a name="launchServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>launchServer</h4>
<pre>void&nbsp;launchServer()</pre>
<div class="block">Permet de créer un serveur pour que les clients puissent s'y connecter.
 <br/>
 Cette méthode doit être appelée par l'Interface Utilisateur lorsque
 l'utilisateur décide de créer une partie réseau.</div>
</li>
</ul>
<a name="closeServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeServer</h4>
<pre>void&nbsp;closeServer()</pre>
<div class="block">Permet de stopper le serveur et ainsi déconnecter tous les clients.
 <br/>
 Cette méthode doit être appelée par l'Interface Utilisateur lorsque
 l'utilisateur décide d'arrêter une partie réseau en cours.</div>
</li>
</ul>
<a name="sendProfiles(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendProfiles</h4>
<pre>void&nbsp;sendProfiles(java.util.List&lt;<a href="../../../../fr/univavignon/courbes/common/Profile.html" title="class in fr.univavignon.courbes.common">Profile</a>&gt;&nbsp;profiles)</pre>
<div class="block">Envoie la liste des profils des joueurs de la manche à tous les 
 clients connectés à ce serveur.
 <br/>
 Cette méthode est invoquée par l'Interface Utilisateur de manière
 à ce que le serveur transmette au client l'identité des joueurs 
 participant à une partie.
 <br/>
 <b>Attention :</b> il est important que cette méthode ne soit pas bloquante : 
 l'Interface Utilisateur n'a pas à attendre que la transmission soit réalisée 
 avant de pouvoir continuer son exécution. La transmission doit se faire en
 parallèle de l'exécution du jeu.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>profiles</code> - Liste des profils des joueurs participant à une partie.</dd></dl>
</li>
</ul>
<a name="retrieveProfiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveProfiles</h4>
<pre>java.util.List&lt;<a href="../../../../fr/univavignon/courbes/common/Profile.html" title="class in fr.univavignon.courbes.common">Profile</a>&gt;&nbsp;retrieveProfiles()</pre>
<div class="block">Récupère les profils envoyés par les clients, représentant des joueurs qui désirent
 participer à la partie en cours de configuration. Le serveur peut refuser
 certains joueurs, par exemple si la partie est complète (plus de place libre).
 <br/>
 À noter que La liste doit contenir les profils <i>dans l'ordre où ils ont été reçus</i>
 par le Moteur Réseau, afin que l'Interface Utilisateur puisse déterminer lesquels refuser
 le cas échéant. Le moteur réseau doit également garder trace de quel joueur correspond
 à quel client.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>La liste des profils reçus par le Moteur Réseau (peut être vide si aucun n'a été 
                reçu depuis la dernière fois que la méthode a été invoquée).</dd></dl>
</li>
</ul>
<a name="sendPointThreshold(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPointThreshold</h4>
<pre>void&nbsp;sendPointThreshold(int&nbsp;pointThreshold)</pre>
<div class="block">Envoie la limite de points à atteindre pour gagner la partie,
 à tous les clients connectés à ce serveur.
 <br/>
 Cette méthode est invoquée par l'Interface Utilisateur à chaque
 début de manche. En effet, la limite peut changer à chaque 
 manche en fonction du nombre de points des joueurs (pour gagner,
 il faut avoir un certain nombre de points d'avance sur le 2ème). 
 <br/>
 <b>Attention :</b> il est important que cette méthode ne soit pas bloquante : 
 l'Interface Utilisateur n'a pas à attendre que la transmission soit réalisée 
 avant de pouvoir continuer son exécution. La transmission doit se faire en
 parallèle de l'exécution du jeu.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pointThreshold</code> - Limite de point courante de la partie.</dd></dl>
</li>
</ul>
<a name="sendBoard(fr.univavignon.courbes.common.Board)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendBoard</h4>
<pre>void&nbsp;sendBoard(<a href="../../../../fr/univavignon/courbes/common/Board.html" title="class in fr.univavignon.courbes.common">Board</a>&nbsp;board)</pre>
<div class="block">Permet au serveur d'envoyer des informations sur l'évolution de 
 la manche en cours, à tous les clients connectés au serveur.
 <br/>
 Cette méthode est appelée par l'Interface Utilisateur à
 chaque itération d'une manche.
 <br/>
 <b>Attention :</b> il est important que cette méthode ne soit pas bloquante : 
 l'Interface Utilisateur n'a pas à attendre que la transmission soit réalisée 
 avant de pouvoir continuer son exécution. La transmission doit se faire en
 parallèle de l'exécution du jeu.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>board</code> - Etat courant de l'aire de jeu.</dd></dl>
</li>
</ul>
<a name="retrieveCommands()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveCommands</h4>
<pre>java.util.Map&lt;java.lang.Integer,<a href="../../../../fr/univavignon/courbes/common/Direction.html" title="enum in fr.univavignon.courbes.common">Direction</a>&gt;&nbsp;retrieveCommands()</pre>
<div class="block">Permet au serveur de recevoir les commandes envoyés par les clients. La méthode
 renvoie une map, associant à l'ID d'un joueur la dernière commande qu'il a
 envoyée. Bien sûr, les joueurs locaux au serveur ne sont pas gérés par des clients,
 et leur ID n'apparaît donc pas dans cette map.
 <br/>
 <b>Attention :</b> il est important que cette méthode ne soit pas bloquante : 
 l'Interface Utilisateur n'a pas à attendre que la transmission soit réalisée 
 avant de pouvoir continuer son exécution. La transmission doit se faire en
 parallèle de l'exécution du jeu.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Une map contenant les directions choisies par chaque joueur traité par
                un client. Si un client ne renvoie rien, les valeurs manquantes doivent
                être remplacées par des valeurs <a href="../../../../fr/univavignon/courbes/common/Direction.html#NONE"><code>Direction.NONE</code></a>.</dd></dl>
</li>
</ul>
<a name="sendText(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendText</h4>
<pre>void&nbsp;sendText(java.lang.String&nbsp;message)</pre>
<div class="block">Permet au serveur d'envoyer un message textuel à tous les clients qui lui sont
 connectés.
 <br/>
 <b>Attention :</b> il est important que cette méthode ne soit pas bloquante : 
 l'Interface Utilisateur n'a pas à attendre que la transmission soit réalisée 
 avant de pouvoir continuer son exécution. La transmission doit se faire en
 parallèle de l'exécution du jeu.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - Contient le message destiné aux clients.</dd></dl>
</li>
</ul>
<a name="retrieveText()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>retrieveText</h4>
<pre>java.lang.String[]&nbsp;retrieveText()</pre>
<div class="block">Permet au serveur de recevoir des messages textuels provenant de ses clients.
 La méthode renvoie un tableau dont chaque valeur correspond à un client. En
 l'absence de message envoyé par un client, sa valeur est <code>null</code>.
 <br/>
 <b>Attention :</b> il est important que cette méthode ne soit pas bloquante : 
 l'Interface Utilisateur n'a pas à attendre que la transmission soit réalisée 
 avant de pouvoir continuer son exécution. La transmission doit se faire en
 parallèle de l'exécution du jeu.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Un tableau de chaînes de caractères, chacune envoyée par un client donné.
                En l'absence de message, la valeur associée à un client est <code>null</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerCommunication.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../fr/univavignon/courbes/network/ClientCommunication.html" title="interface in fr.univavignon.courbes.network"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/univavignon/courbes/network/ServerCommunication.html" target="_top">Frames</a></li>
<li><a href="ServerCommunication.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
